{
  "title": "Serverless Machine Learning with R on Cloud Run",
  "date": "2020-01-22T00:00:00.000Z",
  "tags": [
    "notes",
    "r",
    "visualization",
    "gcp",
    "serverless"
  ],
  "summary": "The serverless way - using Google Cloud Platform to deploy simple machine learning models via Cloud Run. A fun weekend project that analyses the twitter-verse",
  "authors": [
    "Timothy Lin"
  ],
  "body": {
    "raw": "\nOne of the main challenges that every data scientist face is model deployment. Unless you are one of the lucky few who has loads of data engineers to help you deploy a model, it's really an issue in enterprise projects. I am not even implying that the model needs to be production ready but even a seemingly basic issue of making the model and insights accessible to business users is more of a hassle then it needs to be. There used to be 2 main ways of solving the problem:\n\n1. Ad-hoc manual runs at every request\n2. Hosting the code on a server and writing an API interface to make the results available\n\nThese are two ends of the spectrum. Ad-hoc runs are just too tedious and clients typically demand for some self-serve interface but good luck trying to get a permanent server to host your code. Turns out there is a third way - the serverless way! AWS Lambdas and Google Cloud Platform Cloud Functions have really opened up a new way of serving results without having to manage any infrastructure. If you have access to the cloud, this is a very attractive option.\n\nIf you are from the javascript or python world you might have already used some of these tools. The problem with cloud functions is that it is restricted to particular environments. However, with the recent introduction of GCP's [Cloud Run](https://cloud.google.com/run/docs/reference/container-contract), we are no longer limited by this problem. Cloud run allows custom docker images to be served on the cloud, opening up the serverless realm to many interesting possibilities. This means that R users can also finally have a way to develop and deploy serverless ML models!üéâ^[There are some very nice benefits of using a serverless stack as well such as per second billing, automatically scalable containers which makes it a perfect fit to deploy a hobby project.]\n\nThis post documents some of my experience with cloud run and hopefully serves as a good reference template for anyone who might want to try it out. I take inspiration from two other sources, namely [Mark's blog](https://code.markedmondson.me/googleCloudRunner-intro/) and [Eric's post](https://ericjinks.com/blog/2019/serverless-R-cloud-run/). Mark actually has a package on CRAN that automates some of the deployment work and Eric has a nice bit on continuous integration pipelines so do check it out.\n\nThis post is more of a practical guide with a real world machine learning application that an analyst might develop and wish to deploy, which I think makes the application a lot more concrete and useful. It's also a really fun little side project.\n\nIf you are a coding person, you could skip the rest of the post and dive into the [github code](https://github.com/timlrx/serverless-ml), otherwise read on :)\n\n## Will My Project Run on the Cloud Run?\n\nCloud run is not a panacea. Check out the [requirement specification](https://cloud.google.com/run/docs/reference/container-contract) and [limits](https://cloud.google.com/run/quotas) for more details but here are some limitations that you should be aware of.\n\n- States are not persisted (if you want to persist them you need an external database)\n- The maximum memory limit is 2GB\n- The container must start a server within 4 minutes after receiving a request and it times out after 15 minutes\n\nThis makes it well suited for short computations, but not tasks which might require lots of memory or are very CPU intensive. 15 minutes in reality is not too bad! You could probably run some regressions, decision trees, even solve a linear programming problem but maybe not train a neural network.\n\n## Twitter Project üê¶\n\n![](/static/img/serverless/sentiment1.PNG)\n\nHere's my fun serverless-ml weekend project: an application that analyzes the twitter-verse. I wanted to generate two plots: a graph which compares the frequency of tweets over time and another one which does a sentiment analysis on the tweets. As an added bonus, I decided to make it interactive - this means serving static plots as well as interactive plotly results.\n\nThe main package I used were: rtweet, dplyr, ggplot2, tidytext, tidyr and stringr. If you are new to tidytext, check out some of my previous posts such as this one way back in 2017 which analyzes [recipe books](https://www.timlrx.com/2017/06/24/thesis-thursday-4-analysing-recipes/).\n\nrtweet provides a convenient api to collect users timeline information. You would need a twitter API account to get started. It's a simple process and you can register for one here: https://developer.twitter.com/en/apply-for-access.\n\nTake note of the four keys/tokens. They should be saved as an environment variable in your system.^[If you are in R, you can call `Sys.setenv()` or just export it using the CLI] These four keys correspond to API_KEY, API_SECRET_KEY, ACCESS_TOKEN and ACCESS_SECRET in the tweet.R file and will be retrieved programmatically when needed.\n\n![](/static/img/serverless/twitter_api.PNG)\n\n### [Tweet.R](<(https://github.com/timlrx/serverless-ml/blob/master/twitter-r/tweet.R)>)\n\nWon't go much into the data science code but you can check it out over [here](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/tweet.R). The important part of it is that we are encapsulating each part as a function which we then call in the main api routing file (app.R).\n\nFor the sentiment analysis, we are counting the number of positive and negative words as matched by a dictionary.^[https://www.tidytextmining.com/sentiment.html] The lexical dictionary is from [Bing Liu et al.](https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html). Doesn't this require at external database? Not really - external dependencies or data files are fine, as long as they are stateless. We can package it together with our docker file or in this case it comes installed with the tidytext package!\n\n### [App.R](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/app.R)\n\nThis file contains the serving logic. We are using the [plumber package](https://www.rplumber.io/) which allows us to create a REST API in R by decorating it in with some markup. You can specify query parameters by using a `#* @param` markup and specify the type of output to return such as `#* @png` for a static image or `#* @html` for html.\n\nAs an added bonus, there's also an out of the box option to make htmlwidgets work (`#* @serializer htmlwidget`). This makes our serving plotly results really simple. I decided to create two paths for each plot, a static one as well as a plotly interactive result. So in total we have four paths:\n\n- /frequency (ggplot)\n- /html/frequency (plotly)\n- /sentiment (ggplot)\n- /html/sentiment (plotly)\n\nThe functions all accept two arguments: `n` - the number of tweets, and `users` which could be a comma separated list of user IDs which we will then query the twitter API via rtweet for the relevant information.\n\n### [Server.R](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/server.R)\n\nThis is the bit of code that starts our plumber server. We infer the port as defined by an environment variable (PORT).\n\nThat's it for the R code. Now you should have a working application which you can run locally from your computer. Next, we get into the grimy details of ML-ops üèÉ‚Äç‚ôÄ. This involves packaging our dependencies with docker and deploying it on cloud run.\n\n## Docker\n\nDocker is a platform which packages different software, configurations and environments into containers which neatly encapsulate your application. The end user just needs to list out the installation steps to build the image which can subsequently be run on the docker platform üê≥.\n\nTo jump start the configuration, we build on top of the official [r-base image](https://hub.docker.com/_/r-base). It's a Linux image and we need to install some additional dependencies to make the application work, namely libssl-dev for rtweet and pandoc for dealing with htmlwidgets. This forms the start of our [Dockerfile](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/Dockerfile):\n\n```\nFROM r-base\nRUN apt-get update -qq && apt-get install -y \\\n  git-core \\\n  libssl-dev \\\n  libcurl4-gnutls-dev \\\n  pandoc\n```\n\nNext, we copy the scripts in our directory to the app directory in the container and install the necessary R libraries using the Rscript function:\n\n```\nWORKDIR /usr/src/app\n\n# Copy local code to the container image.\nCOPY . .\n\n# Install any R packages\nRUN Rscript -e \"install.packages('plumber')\"\nRUN Rscript -e \"install.packages(c('rtweet', 'dplyr', 'ggplot2', 'plotly', 'tidytext', 'tidyr', 'stringr'))\"\n```\n\nWe expose port 8000 (this is more for documentation) and run the server when the container is launched:\n\n```\nEXPOSE 8000\n\n# Run the web service on container startup.\nCMD [ \"Rscript\", \"server.R\"]\n```\n\nlet's build the docker image and give it a run:\n\n```\ndocker build -t ${IMAGE} .\ndocker run -p 8000:8000 -e PORT=8000 -e API_KEY -e API_SECRET_KEY -e ACCESS_TOKEN -e ACCESS_SECRET ${IMAGE}\n```\n\n`${IMAGE}` here represents the name which you can assign to the image. Remember the environment variables that we need for the application? Port for plumber and the API keys to access twitter API? We pass it to the container when we are running it. Note: The build process is quite long, with the image being 1.22GB big.^[I took about 15 minutes to build the image. That's one of the downsides of R - it's really convenient for analyzing data but not really friendly for production.]\n\nIf the image runs successfully, you should be able to access the routes on your browser. Now, we can take it from your local machine to the web!\n\n## Cloud Run\n\nYou can use my [deploy.sh](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/deploy.sh) script as a guide on how to build and deploy your image. Before doing so, I recommend that you assign the Cloud Run Admin role to the account or user you are running the script in order for it to be deployed correctly. You can do it from the [IAM panel](https://console.cloud.google.com/iam-admin) within GCP.\n\nIn the script, I retrieved the project ID programmatically, but feel free to substitute it with your GCP project. All the script does is to upload the local docker image to Google's container repository and run cloud run to deploy the image from the repository:\n\n```\ngcloud alpha run deploy \\\n    --image=\"gcr.io/${PROJECT_ID}/${IMAGE}:1.0.0\" \\\n    --region=\"us-central1\" \\\n    --platform managed \\\n    --memory=512Mi \\\n    --port=8000 \\\n    --set-env-vars API_KEY=${API_KEY},API_SECRET_KEY=${API_SECRET_KEY},ACCESS_TOKEN=${ACCESS_TOKEN},ACCESS_SECRET=${ACCESS_SECRET} \\\n    --allow-unauthenticated\n```\n\nWe add an `allow-unauthenticated` to allow public traffic and increase the memory as the default was too low. You can start with the default 256MB first but if you encounter any errors, do check the cloud run logs which is very useful for debugging any errors. If all goes well, you should be greeted with an image like this:\n\n![](/static/img/serverless/cloud_run_success.PNG)\n\nOur twitter project is now successfully hosted on Cloud Run!\n\n## Test it out\n\nHere's the fun part - try it out and visualize and analyse live twitter data!\n\nYou can try out my hosted cloud run with one of the 4 endpoints listed above: https://twitter-r-cvdvxo3vga-uc.a.run.app/\n\nSome fun examples!\n\n### Frequency of Obama tweets\n\nThe most followed person on Twitter with 112 million followers does not actually tweet too frequently ü§î:  \nhttps://twitter-r-cvdvxo3vga-uc.a.run.app/frequency?n=500&users=BarackObama\n\n![](/static/img/serverless/freq_obama_tweets.PNG)\n\n### Sentiment analysis comparison between BBCworld and realDonaldTrump\n\nSad!^[There are some issues scraping data from realDonaldTrump (https://github.com/ropensci/rtweet/issues/382)]  \nhttps://twitter-r-cvdvxo3vga-uc.a.run.app/sentiment?n=1000&users=BBCWorld,realDonaldTrump\n\n![](/static/img/serverless/sentiment1.PNG)\n\n### What do politicians and entertainers have in common?\n\nThey are overwhelmingly positive (here we use our plotly html endpoint)  \nhttps://twitter-r-cvdvxo3vga-uc.a.run.app/html/sentiment?n=500&users=narendramodi,TheEllenShow\n\n![](/static/img/serverless/sentiment2.PNG)\n\n## Conclusion\n\nThat's it for this serverless + R tutorial. Hope you managed to learn something useful or at the very least find the twitter analysis interesting üòÉ. The nice part about having this application running is that you can analyze real-time twitter frequency or sentiment plots with whatever account you choose (even your own), so feel free to try it out.^[I will keep it up and running as long as I can as long as the usage does not suddenly spike up and exceed the free tier limit]\n",
    "code": "var Component=(()=>{var sn=Object.create;var j=Object.defineProperty;var ln=Object.getOwnPropertyDescriptor;var mn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty;var V=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),bn=(i,e)=>{for(var m in e)j(i,m,{get:e[m],enumerable:!0})},ge=(i,e,m,x)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let y of mn(e))!fn.call(i,y)&&y!==m&&j(i,y,{get:()=>e[y],enumerable:!(x=ln(e,y))||x.enumerable});return i};var hn=(i,e,m)=>(m=i!=null?sn(un(i)):{},ge(e||!i||!i.__esModule?j(m,\"default\",{value:i,enumerable:!0}):m,i)),_n=i=>ge(j({},\"__esModule\",{value:!0}),i);var De=V((Dn,ke)=>{ke.exports=React});var ve=V(K=>{\"use strict\";(function(){\"use strict\";var i=De(),e=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),x=Symbol.for(\"react.fragment\"),y=Symbol.for(\"react.strict_mode\"),z=Symbol.for(\"react.profiler\"),H=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),E=Symbol.for(\"react.forward_ref\"),O=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),R=Symbol.for(\"react.memo\"),F=Symbol.for(\"react.lazy\"),Re=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Te=\"@@iterator\";function Ce(d){if(d===null||typeof d!=\"object\")return null;var a=J&&d[J]||d[Te];return typeof a==\"function\"?a:null}var k=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(d){{for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];Se(\"error\",d,c)}}function Se(d,a,c){{var r=k.ReactDebugCurrentFrame,s=r.getStackAddendum();s!==\"\"&&(a+=\"%s\",c=c.concat([s]));var l=c.map(function(o){return String(o)});l.unshift(\"Warning: \"+a),Function.prototype.apply.call(console[d],console,l)}}var Pe=!1,Ie=!1,je=!1,Oe=!1,Ae=!1,Z;Z=Symbol.for(\"react.module.reference\");function Fe(d){return!!(typeof d==\"string\"||typeof d==\"function\"||d===x||d===z||Ae||d===y||d===O||d===A||Oe||d===Re||Pe||Ie||je||typeof d==\"object\"&&d!==null&&(d.$$typeof===F||d.$$typeof===R||d.$$typeof===H||d.$$typeof===X||d.$$typeof===E||d.$$typeof===Z||d.getModuleId!==void 0))}function Ye(d,a,c){var r=d.displayName;if(r)return r;var s=a.displayName||a.name||\"\";return s!==\"\"?c+\"(\"+s+\")\":c}function Q(d){return d.displayName||\"Context\"}function p(d){if(d==null)return null;if(typeof d.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof d==\"function\")return d.displayName||d.name||null;if(typeof d==\"string\")return d;switch(d){case x:return\"Fragment\";case m:return\"Portal\";case z:return\"Profiler\";case y:return\"StrictMode\";case O:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof d==\"object\")switch(d.$$typeof){case X:var a=d;return Q(a)+\".Consumer\";case H:var c=d;return Q(c._context)+\".Provider\";case E:return Ye(d,d.render,\"ForwardRef\");case R:var r=d.displayName||null;return r!==null?r:p(d.type)||\"Memo\";case F:{var s=d,l=s._payload,o=s._init;try{return p(o(l))}catch{return null}}}return null}var g=Object.assign,U=0,ee,ne,de,ae,ce,re,te;function oe(){}oe.__reactDisabledLog=!0;function Me(){{if(U===0){ee=console.log,ne=console.info,de=console.warn,ae=console.error,ce=console.group,re=console.groupCollapsed,te=console.groupEnd;var d={configurable:!0,enumerable:!0,value:oe,writable:!0};Object.defineProperties(console,{info:d,log:d,warn:d,error:d,group:d,groupCollapsed:d,groupEnd:d})}U++}}function We(){{if(U--,U===0){var d={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:g({},d,{value:ee}),info:g({},d,{value:ne}),warn:g({},d,{value:de}),error:g({},d,{value:ae}),group:g({},d,{value:ce}),groupCollapsed:g({},d,{value:re}),groupEnd:g({},d,{value:te})})}U<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var Y=k.ReactCurrentDispatcher,M;function T(d,a,c){{if(M===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\\n( *(at )?)/);M=r&&r[1]||\"\"}return`\n`+M+d}}var W=!1,C;{var $e=typeof WeakMap==\"function\"?WeakMap:Map;C=new $e}function se(d,a){if(!d||W)return\"\";{var c=C.get(d);if(c!==void 0)return c}var r;W=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var l;l=Y.current,Y.current=null,Me();try{if(a){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(o,[])}catch(N){r=N}Reflect.construct(d,[],o)}else{try{o.call()}catch(N){r=N}d.call(o.prototype)}}else{try{throw Error()}catch(N){r=N}d()}}catch(N){if(N&&r&&typeof N.stack==\"string\"){for(var t=N.stack.split(`\n`),h=r.stack.split(`\n`),u=t.length-1,f=h.length-1;u>=1&&f>=0&&t[u]!==h[f];)f--;for(;u>=1&&f>=0;u--,f--)if(t[u]!==h[f]){if(u!==1||f!==1)do if(u--,f--,f<0||t[u]!==h[f]){var _=`\n`+t[u].replace(\" at new \",\" at \");return d.displayName&&_.includes(\"<anonymous>\")&&(_=_.replace(\"<anonymous>\",d.displayName)),typeof d==\"function\"&&C.set(d,_),_}while(u>=1&&f>=0);break}}}finally{W=!1,Y.current=l,We(),Error.prepareStackTrace=s}var v=d?d.displayName||d.name:\"\",xe=v?T(v):\"\";return typeof d==\"function\"&&C.set(d,xe),xe}function qe(d,a,c){return se(d,!1)}function Be(d){var a=d.prototype;return!!(a&&a.isReactComponent)}function S(d,a,c){if(d==null)return\"\";if(typeof d==\"function\")return se(d,Be(d));if(typeof d==\"string\")return T(d);switch(d){case O:return T(\"Suspense\");case A:return T(\"SuspenseList\")}if(typeof d==\"object\")switch(d.$$typeof){case E:return qe(d.render);case R:return S(d.type,a,c);case F:{var r=d,s=r._payload,l=r._init;try{return S(l(s),a,c)}catch{}}}return\"\"}var P=Object.prototype.hasOwnProperty,ie={},le=k.ReactDebugCurrentFrame;function I(d){if(d){var a=d._owner,c=S(d.type,d._source,a?a.type:null);le.setExtraStackFrame(c)}else le.setExtraStackFrame(null)}function Ge(d,a,c,r,s){{var l=Function.call.bind(P);for(var o in d)if(l(d,o)){var t=void 0;try{if(typeof d[o]!=\"function\"){var h=Error((r||\"React class\")+\": \"+c+\" type `\"+o+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof d[o]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw h.name=\"Invariant Violation\",h}t=d[o](a,o,r,c,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){t=u}t&&!(t instanceof Error)&&(I(s),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",r||\"React class\",c,o,typeof t),I(null)),t instanceof Error&&!(t.message in ie)&&(ie[t.message]=!0,I(s),b(\"Failed %s type: %s\",c,t.message),I(null))}}}var Le=Array.isArray;function $(d){return Le(d)}function Ve(d){{var a=typeof Symbol==\"function\"&&Symbol.toStringTag,c=a&&d[Symbol.toStringTag]||d.constructor.name||\"Object\";return c}}function Ke(d){try{return me(d),!1}catch{return!0}}function me(d){return\"\"+d}function ue(d){if(Ke(d))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ve(d)),me(d)}var w=k.ReactCurrentOwner,ze={key:!0,ref:!0,__self:!0,__source:!0},fe,be,q;q={};function He(d){if(P.call(d,\"ref\")){var a=Object.getOwnPropertyDescriptor(d,\"ref\").get;if(a&&a.isReactWarning)return!1}return d.ref!==void 0}function Xe(d){if(P.call(d,\"key\")){var a=Object.getOwnPropertyDescriptor(d,\"key\").get;if(a&&a.isReactWarning)return!1}return d.key!==void 0}function Je(d,a){if(typeof d.ref==\"string\"&&w.current&&a&&w.current.stateNode!==a){var c=p(w.current.type);q[c]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',p(w.current.type),d.ref),q[c]=!0)}}function Ze(d,a){{var c=function(){fe||(fe=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",a))};c.isReactWarning=!0,Object.defineProperty(d,\"key\",{get:c,configurable:!0})}}function Qe(d,a){{var c=function(){be||(be=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",a))};c.isReactWarning=!0,Object.defineProperty(d,\"ref\",{get:c,configurable:!0})}}var en=function(d,a,c,r,s,l,o){var t={$$typeof:e,type:d,key:a,ref:c,props:o,_owner:l};return t._store={},Object.defineProperty(t._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(t,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(t,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(t.props),Object.freeze(t)),t};function nn(d,a,c,r,s){{var l,o={},t=null,h=null;c!==void 0&&(ue(c),t=\"\"+c),Xe(a)&&(ue(a.key),t=\"\"+a.key),He(a)&&(h=a.ref,Je(a,s));for(l in a)P.call(a,l)&&!ze.hasOwnProperty(l)&&(o[l]=a[l]);if(d&&d.defaultProps){var u=d.defaultProps;for(l in u)o[l]===void 0&&(o[l]=u[l])}if(t||h){var f=typeof d==\"function\"?d.displayName||d.name||\"Unknown\":d;t&&Ze(o,f),h&&Qe(o,f)}return en(d,t,h,s,r,w.current,o)}}var B=k.ReactCurrentOwner,he=k.ReactDebugCurrentFrame;function D(d){if(d){var a=d._owner,c=S(d.type,d._source,a?a.type:null);he.setExtraStackFrame(c)}else he.setExtraStackFrame(null)}var G;G=!1;function L(d){return typeof d==\"object\"&&d!==null&&d.$$typeof===e}function _e(){{if(B.current){var d=p(B.current.type);if(d)return`\n\nCheck the render method of \\``+d+\"`.\"}return\"\"}}function dn(d){{if(d!==void 0){var a=d.fileName.replace(/^.*[\\\\\\/]/,\"\"),c=d.lineNumber;return`\n\nCheck your code at `+a+\":\"+c+\".\"}return\"\"}}var pe={};function an(d){{var a=_e();if(!a){var c=typeof d==\"string\"?d:d.displayName||d.name;c&&(a=`\n\nCheck the top-level render call using <`+c+\">.\")}return a}}function Ne(d,a){{if(!d._store||d._store.validated||d.key!=null)return;d._store.validated=!0;var c=an(a);if(pe[c])return;pe[c]=!0;var r=\"\";d&&d._owner&&d._owner!==B.current&&(r=\" It was passed a child from \"+p(d._owner.type)+\".\"),D(d),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',c,r),D(null)}}function ye(d,a){{if(typeof d!=\"object\")return;if($(d))for(var c=0;c<d.length;c++){var r=d[c];L(r)&&Ne(r,a)}else if(L(d))d._store&&(d._store.validated=!0);else if(d){var s=Ce(d);if(typeof s==\"function\"&&s!==d.entries)for(var l=s.call(d),o;!(o=l.next()).done;)L(o.value)&&Ne(o.value,a)}}}function cn(d){{var a=d.type;if(a==null||typeof a==\"string\")return;var c;if(typeof a==\"function\")c=a.propTypes;else if(typeof a==\"object\"&&(a.$$typeof===E||a.$$typeof===R))c=a.propTypes;else return;if(c){var r=p(a);Ge(c,d.props,\"prop\",r,d)}else if(a.PropTypes!==void 0&&!G){G=!0;var s=p(a);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof a.getDefaultProps==\"function\"&&!a.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function rn(d){{for(var a=Object.keys(d.props),c=0;c<a.length;c++){var r=a[c];if(r!==\"children\"&&r!==\"key\"){D(d),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",r),D(null);break}}d.ref!==null&&(D(d),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),D(null))}}function tn(d,a,c,r,s,l){{var o=Fe(d);if(!o){var t=\"\";(d===void 0||typeof d==\"object\"&&d!==null&&Object.keys(d).length===0)&&(t+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var h=dn(s);h?t+=h:t+=_e();var u;d===null?u=\"null\":$(d)?u=\"array\":d!==void 0&&d.$$typeof===e?(u=\"<\"+(p(d.type)||\"Unknown\")+\" />\",t=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof d,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,t)}var f=nn(d,a,c,s,l);if(f==null)return f;if(o){var _=a.children;if(_!==void 0)if(r)if($(_)){for(var v=0;v<_.length;v++)ye(_[v],d);Object.freeze&&Object.freeze(_)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(_,d)}return d===x?rn(f):cn(f),f}}var on=tn;K.Fragment=x,K.jsxDEV=on})()});var we=V((Un,Ue)=>{\"use strict\";Ue.exports=ve()});var gn={};bn(gn,{default:()=>yn,frontmatter:()=>pn});var n=hn(we()),pn={title:\"Serverless Machine Learning with R on Cloud Run\",authors:[\"Timothy Lin\"],date:\"2020-01-22\",tags:[\"notes\",\"r\",\"visualization\",\"gcp\",\"serverless\"],summary:\"The serverless way - using Google Cloud Platform to deploy simple machine learning models via Cloud Run. A fun weekend project that analyses the twitter-verse\"};function Ee(i){let e=Object.assign({p:\"p\",ol:\"ol\",li:\"li\",a:\"a\",sup:\"sup\",h2:\"h2\",span:\"span\",ul:\"ul\",div:\"div\",h3:\"h3\",code:\"code\",pre:\"pre\",br:\"br\",section:\"section\"},i.components),{Image:m}=e;return m||xn(\"Image\",!0,\"36:1-36:43\"),(0,n.jsxDEV)(n.Fragment,{children:[(0,n.jsxDEV)(e.p,{children:\"One of the main challenges that every data scientist face is model deployment. Unless you are one of the lucky few who has loads of data engineers to help you deploy a model, it's really an issue in enterprise projects. I am not even implying that the model needs to be production ready but even a seemingly basic issue of making the model and insights accessible to business users is more of a hassle then it needs to be. There used to be 2 main ways of solving the problem:\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:9,columnNumber:1},this),(0,n.jsxDEV)(e.ol,{children:[(0,n.jsxDEV)(e.li,{children:\"Ad-hoc manual runs at every request\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:11,columnNumber:1},this),(0,n.jsxDEV)(e.li,{children:\"Hosting the code on a server and writing an API interface to make the results available\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:12,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:11,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"These are two ends of the spectrum. Ad-hoc runs are just too tedious and clients typically demand for some self-serve interface but good luck trying to get a permanent server to host your code. Turns out there is a third way - the serverless way! AWS Lambdas and Google Cloud Platform Cloud Functions have really opened up a new way of serving results without having to manage any infrastructure. If you have access to the cloud, this is a very attractive option.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:14,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"If you are from the javascript or python world you might have already used some of these tools. The problem with cloud functions is that it is restricted to particular environments. However, with the recent introduction of GCP's \",(0,n.jsxDEV)(e.a,{href:\"https://cloud.google.com/run/docs/reference/container-contract\",children:\"Cloud Run\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:16,columnNumber:230},this),\", we are no longer limited by this problem. Cloud run allows custom docker images to be served on the cloud, opening up the serverless realm to many interesting possibilities. This means that R users can also finally have a way to develop and deploy serverless ML models!\\u{1F389}\",(0,n.jsxDEV)(e.sup,{children:(0,n.jsxDEV)(e.a,{href:\"#user-content-fn-1\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-1\",children:\"1\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:16,columnNumber:578},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:16,columnNumber:578},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:16,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"This post documents some of my experience with cloud run and hopefully serves as a good reference template for anyone who might want to try it out. I take inspiration from two other sources, namely \",(0,n.jsxDEV)(e.a,{href:\"https://code.markedmondson.me/googleCloudRunner-intro/\",children:\"Mark's blog\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:18,columnNumber:199},this),\" and \",(0,n.jsxDEV)(e.a,{href:\"https://ericjinks.com/blog/2019/serverless-R-cloud-run/\",children:\"Eric's post\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:18,columnNumber:273},this),\". Mark actually has a package on CRAN that automates some of the deployment work and Eric has a nice bit on continuous integration pipelines so do check it out.\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:18,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"This post is more of a practical guide with a real world machine learning application that an analyst might develop and wish to deploy, which I think makes the application a lot more concrete and useful. It's also a really fun little side project.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:20,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"If you are a coding person, you could skip the rest of the post and dive into the \",(0,n.jsxDEV)(e.a,{href:\"https://github.com/timlrx/serverless-ml\",children:\"github code\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:22,columnNumber:83},this),\", otherwise read on :)\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:22,columnNumber:1},this),(0,n.jsxDEV)(e.h2,{id:\"will-my-project-run-on-the-cloud-run\",children:[(0,n.jsxDEV)(e.a,{href:\"#will-my-project-run-on-the-cloud-run\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Will My Project Run on the Cloud Run?\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:24,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"Cloud run is not a panacea. Check out the \",(0,n.jsxDEV)(e.a,{href:\"https://cloud.google.com/run/docs/reference/container-contract\",children:\"requirement specification\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:26,columnNumber:43},this),\" and \",(0,n.jsxDEV)(e.a,{href:\"https://cloud.google.com/run/quotas\",children:\"limits\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:26,columnNumber:139},this),\" for more details but here are some limitations that you should be aware of.\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:26,columnNumber:1},this),(0,n.jsxDEV)(e.ul,{children:[(0,n.jsxDEV)(e.li,{children:\"States are not persisted (if you want to persist them you need an external database)\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:28,columnNumber:1},this),(0,n.jsxDEV)(e.li,{children:\"The maximum memory limit is 2GB\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:29,columnNumber:1},this),(0,n.jsxDEV)(e.li,{children:\"The container must start a server within 4 minutes after receiving a request and it times out after 15 minutes\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:30,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:28,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"This makes it well suited for short computations, but not tasks which might require lots of memory or are very CPU intensive. 15 minutes in reality is not too bad! You could probably run some regressions, decision trees, even solve a linear programming problem but maybe not train a neural network.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:32,columnNumber:1},this),(0,n.jsxDEV)(e.h2,{id:\"twitter-project-\",children:[(0,n.jsxDEV)(e.a,{href:\"#twitter-project-\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Twitter Project \\u{1F426}\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:34,columnNumber:1},this),(0,n.jsxDEV)(e.div,{children:(0,n.jsxDEV)(m,{alt:\"\",src:\"/static/img/serverless/sentiment1.PNG\",width:\"480\",height:\"480\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:36,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:36,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"Here's my fun serverless-ml weekend project: an application that analyzes the twitter-verse. I wanted to generate two plots: a graph which compares the frequency of tweets over time and another one which does a sentiment analysis on the tweets. As an added bonus, I decided to make it interactive - this means serving static plots as well as interactive plotly results.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:38,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"The main package I used were: rtweet, dplyr, ggplot2, tidytext, tidyr and stringr. If you are new to tidytext, check out some of my previous posts such as this one way back in 2017 which analyzes \",(0,n.jsxDEV)(e.a,{href:\"https://www.timlrx.com/2017/06/24/thesis-thursday-4-analysing-recipes/\",children:\"recipe books\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:40,columnNumber:197},this),\".\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:40,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"rtweet provides a convenient api to collect users timeline information. You would need a twitter API account to get started. It's a simple process and you can register for one here: \",(0,n.jsxDEV)(e.a,{href:\"https://developer.twitter.com/en/apply-for-access\",children:\"https://developer.twitter.com/en/apply-for-access\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:42,columnNumber:183},this),\".\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:42,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"Take note of the four keys/tokens. They should be saved as an environment variable in your system.\",(0,n.jsxDEV)(e.sup,{children:(0,n.jsxDEV)(e.a,{href:\"#user-content-fn-2\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-2\",children:\"2\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:44,columnNumber:99},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:44,columnNumber:99},this),\" These four keys correspond to API_KEY, API_SECRET_KEY, ACCESS_TOKEN and ACCESS_SECRET in the tweet.R file and will be retrieved programmatically when needed.\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:44,columnNumber:1},this),(0,n.jsxDEV)(e.div,{children:(0,n.jsxDEV)(m,{alt:\"\",src:\"/static/img/serverless/twitter_api.PNG\",width:\"1314\",height:\"877\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:46,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:46,columnNumber:1},this),(0,n.jsxDEV)(e.h3,{id:\"tweetr\",children:[(0,n.jsxDEV)(e.a,{href:\"#tweetr\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.a,{href:\"(https://github.com/timlrx/serverless-ml/blob/master/twitter-r/tweet.R)\",children:\"Tweet.R\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:48,columnNumber:5},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:48,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"Won't go much into the data science code but you can check it out over \",(0,n.jsxDEV)(e.a,{href:\"https://github.com/timlrx/serverless-ml/blob/master/twitter-r/tweet.R\",children:\"here\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:50,columnNumber:72},this),\". The important part of it is that we are encapsulating each part as a function which we then call in the main api routing file (app.R).\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:50,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"For the sentiment analysis, we are counting the number of positive and negative words as matched by a dictionary.\",(0,n.jsxDEV)(e.sup,{children:(0,n.jsxDEV)(e.a,{href:\"#user-content-fn-3\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-3\",children:\"3\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:52,columnNumber:114},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:52,columnNumber:114},this),\" The lexical dictionary is from \",(0,n.jsxDEV)(e.a,{href:\"https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html\",children:\"Bing Liu et al.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:52,columnNumber:194},this),\". Doesn't this require at external database? Not really - external dependencies or data files are fine, as long as they are stateless. We can package it together with our docker file or in this case it comes installed with the tidytext package!\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:52,columnNumber:1},this),(0,n.jsxDEV)(e.h3,{id:\"appr\",children:[(0,n.jsxDEV)(e.a,{href:\"#appr\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.a,{href:\"https://github.com/timlrx/serverless-ml/blob/master/twitter-r/app.R\",children:\"App.R\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:54,columnNumber:5},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:54,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"This file contains the serving logic. We are using the \",(0,n.jsxDEV)(e.a,{href:\"https://www.rplumber.io/\",children:\"plumber package\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:56,columnNumber:56},this),\" which allows us to create a REST API in R by decorating it in with some markup. You can specify query parameters by using a \",(0,n.jsxDEV)(e.code,{children:\"#* @param\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:56,columnNumber:224},this),\" markup and specify the type of output to return such as \",(0,n.jsxDEV)(e.code,{children:\"#* @png\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:56,columnNumber:292},this),\" for a static image or \",(0,n.jsxDEV)(e.code,{children:\"#* @html\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:56,columnNumber:324},this),\" for html.\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:56,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"As an added bonus, there's also an out of the box option to make htmlwidgets work (\",(0,n.jsxDEV)(e.code,{children:\"#* @serializer htmlwidget\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:58,columnNumber:84},this),\"). This makes our serving plotly results really simple. I decided to create two paths for each plot, a static one as well as a plotly interactive result. So in total we have four paths:\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:58,columnNumber:1},this),(0,n.jsxDEV)(e.ul,{children:[(0,n.jsxDEV)(e.li,{children:\"/frequency (ggplot)\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:60,columnNumber:1},this),(0,n.jsxDEV)(e.li,{children:\"/html/frequency (plotly)\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:61,columnNumber:1},this),(0,n.jsxDEV)(e.li,{children:\"/sentiment (ggplot)\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:62,columnNumber:1},this),(0,n.jsxDEV)(e.li,{children:\"/html/sentiment (plotly)\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:63,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:60,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"The functions all accept two arguments: \",(0,n.jsxDEV)(e.code,{children:\"n\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:65,columnNumber:41},this),\" - the number of tweets, and \",(0,n.jsxDEV)(e.code,{children:\"users\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:65,columnNumber:73},this),\" which could be a comma separated list of user IDs which we will then query the twitter API via rtweet for the relevant information.\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:65,columnNumber:1},this),(0,n.jsxDEV)(e.h3,{id:\"serverr\",children:[(0,n.jsxDEV)(e.a,{href:\"#serverr\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.a,{href:\"https://github.com/timlrx/serverless-ml/blob/master/twitter-r/server.R\",children:\"Server.R\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:67,columnNumber:5},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:67,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"This is the bit of code that starts our plumber server. We infer the port as defined by an environment variable (PORT).\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:69,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"That's it for the R code. Now you should have a working application which you can run locally from your computer. Next, we get into the grimy details of ML-ops \\u{1F3C3}\\u200D\\u2640. This involves packaging our dependencies with docker and deploying it on cloud run.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:71,columnNumber:1},this),(0,n.jsxDEV)(e.h2,{id:\"docker\",children:[(0,n.jsxDEV)(e.a,{href:\"#docker\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Docker\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:73,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"Docker is a platform which packages different software, configurations and environments into containers which neatly encapsulate your application. The end user just needs to list out the installation steps to build the image which can subsequently be run on the docker platform \\u{1F433}.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:75,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"To jump start the configuration, we build on top of the official \",(0,n.jsxDEV)(e.a,{href:\"https://hub.docker.com/_/r-base\",children:\"r-base image\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:77,columnNumber:66},this),\". It's a Linux image and we need to install some additional dependencies to make the application work, namely libssl-dev for rtweet and pandoc for dealing with htmlwidgets. This forms the start of our \",(0,n.jsxDEV)(e.a,{href:\"https://github.com/timlrx/serverless-ml/blob/master/twitter-r/Dockerfile\",children:\"Dockerfile\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:77,columnNumber:314},this),\":\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:77,columnNumber:1},this),(0,n.jsxDEV)(e.pre,{className:\"language-js\",children:(0,n.jsxDEV)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"FROM\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),\" r\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),`base\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"RUN\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" apt\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token keyword\",children:\"get\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" update \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\"qq \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"&&\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" apt\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token keyword\",children:\"get\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" install \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),`y \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"  git\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:3,columnNumber:1},this),`core \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"  libssl\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),`dev \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"  libcurl4\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:5,columnNumber:1},this),\"gnutls\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:5,columnNumber:1},this),`dev \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:`  pandoc\n`},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:79,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:79,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"Next, we copy the scripts in our directory to the app directory in the container and install the necessary R libraries using the Rscript function:\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:88,columnNumber:1},this),(0,n.jsxDEV)(e.pre,{className:\"language-js\",children:(0,n.jsxDEV)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"WORKDIR\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"/\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),\"usr\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"/\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),\"src\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"/\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),`app\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:`\n`},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"# \",(0,n.jsxDEV)(e.span,{className:\"token maybe-class-name\",children:\"Copy\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:3,columnNumber:1},this),\" local code to the container image\",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\".\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:3,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"COPY\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\".\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\".\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:`\n`},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"# \",(0,n.jsxDEV)(e.span,{className:\"token maybe-class-name\",children:\"Install\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:6,columnNumber:1},this),\" any \",(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"R\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:6,columnNumber:1},this),` packages\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"RUN\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token maybe-class-name\",children:\"Rscript\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\"e \",(0,n.jsxDEV)(e.span,{className:\"token string\",children:`\"install.packages('plumber')\"`},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"RUN\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:8,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token maybe-class-name\",children:\"Rscript\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:8,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:8,columnNumber:1},this),\"e \",(0,n.jsxDEV)(e.span,{className:\"token string\",children:`\"install.packages(c('rtweet', 'dplyr', 'ggplot2', 'plotly', 'tidytext', 'tidyr', 'stringr'))\"`},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:8,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:90,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:90,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"We expose port 8000 (this is more for documentation) and run the server when the container is launched:\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:101,columnNumber:1},this),(0,n.jsxDEV)(e.pre,{className:\"language-js\",children:(0,n.jsxDEV)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"EXPOSE\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token number\",children:\"8000\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:`\n`},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"# \",(0,n.jsxDEV)(e.span,{className:\"token maybe-class-name\",children:\"Run\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:3,columnNumber:1},this),\" the web service on container startup\",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\".\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:3,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"CMD\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"[\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token string\",children:'\"Rscript\"'},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\",\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token string\",children:'\"server.R\"'},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"]\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:103,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:103,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"let's build the docker image and give it a run:\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:110,columnNumber:1},this),(0,n.jsxDEV)(e.pre,{className:\"language-js\",children:(0,n.jsxDEV)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"docker build \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),\"t $\",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"{\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"IMAGE\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"}\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\".\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[(0,n.jsxDEV)(e.span,{className:\"token property-access\",children:\"docker\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" run \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\"p \",(0,n.jsxDEV)(e.span,{className:\"token number\",children:\"8000\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\":\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token number\",children:\"8000\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\"e \",(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"PORT\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token number\",children:\"8000\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\"e \",(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"API_KEY\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\"e \",(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"API_SECRET_KEY\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\"e \",(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"ACCESS_TOKEN\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\"e \",(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"ACCESS_SECRET\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\" $\",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"{\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"IMAGE\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"}\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:112,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:112,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[(0,n.jsxDEV)(e.code,{children:\"${IMAGE}\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:117,columnNumber:1},this),\" here represents the name which you can assign to the image. Remember the environment variables that we need for the application? Port for plumber and the API keys to access twitter API? We pass it to the container when we are running it. Note: The build process is quite long, with the image being 1.22GB big.\",(0,n.jsxDEV)(e.sup,{children:(0,n.jsxDEV)(e.a,{href:\"#user-content-fn-4\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-4\",children:\"4\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:117,columnNumber:321},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:117,columnNumber:321},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:117,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"If the image runs successfully, you should be able to access the routes on your browser. Now, we can take it from your local machine to the web!\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:119,columnNumber:1},this),(0,n.jsxDEV)(e.h2,{id:\"cloud-run\",children:[(0,n.jsxDEV)(e.a,{href:\"#cloud-run\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Cloud Run\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:121,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"You can use my \",(0,n.jsxDEV)(e.a,{href:\"https://github.com/timlrx/serverless-ml/blob/master/twitter-r/deploy.sh\",children:\"deploy.sh\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:123,columnNumber:16},this),\" script as a guide on how to build and deploy your image. Before doing so, I recommend that you assign the Cloud Run Admin role to the account or user you are running the script in order for it to be deployed correctly. You can do it from the \",(0,n.jsxDEV)(e.a,{href:\"https://console.cloud.google.com/iam-admin\",children:\"IAM panel\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:123,columnNumber:343},this),\" within GCP.\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:123,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"In the script, I retrieved the project ID programmatically, but feel free to substitute it with your GCP project. All the script does is to upload the local docker image to Google's container repository and run cloud run to deploy the image from the repository:\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:125,columnNumber:1},this),(0,n.jsxDEV)(e.pre,{className:\"language-js\",children:(0,n.jsxDEV)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxDEV)(e.span,{className:\"code-line\",children:`gcloud alpha run deploy \\\\\n`},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"--\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),\"image\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token string\",children:'\"gcr.io/${PROJECT_ID}/${IMAGE}:1.0.0\"'},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:2,columnNumber:1},this),` \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"--\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:3,columnNumber:1},this),\"region\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:3,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token string\",children:'\"us-central1\"'},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:3,columnNumber:1},this),` \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"--\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:4,columnNumber:1},this),`platform managed \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"--\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:5,columnNumber:1},this),\"memory\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:5,columnNumber:1},this),`512Mi \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"--\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:6,columnNumber:1},this),\"port\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:6,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token number\",children:\"8000\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:6,columnNumber:1},this),` \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"--\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\"set\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\"env\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\"vars \",(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"API_KEY\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\"$\",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"{\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"API_KEY\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"}\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\",\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"API_SECRET_KEY\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\"$\",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"{\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"API_SECRET_KEY\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"}\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\",\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"ACCESS_TOKEN\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\"$\",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"{\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"ACCESS_TOKEN\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"}\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\",\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"ACCESS_SECRET\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"=\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),\"$\",(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"{\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token constant\",children:\"ACCESS_SECRET\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),(0,n.jsxDEV)(e.span,{className:\"token punctuation\",children:\"}\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:7,columnNumber:1},this),` \\\\\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"--\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:8,columnNumber:1},this),\"allow\",(0,n.jsxDEV)(e.span,{className:\"token operator\",children:\"-\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:8,columnNumber:1},this),`unauthenticated\n`]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:127,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:127,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"We add an \",(0,n.jsxDEV)(e.code,{children:\"allow-unauthenticated\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:138,columnNumber:11},this),\" to allow public traffic and increase the memory as the default was too low. You can start with the default 256MB first but if you encounter any errors, do check the cloud run logs which is very useful for debugging any errors. If all goes well, you should be greeted with an image like this:\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:138,columnNumber:1},this),(0,n.jsxDEV)(e.div,{children:(0,n.jsxDEV)(m,{alt:\"\",src:\"/static/img/serverless/cloud_run_success.PNG\",width:\"1073\",height:\"276\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:140,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:140,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"Our twitter project is now successfully hosted on Cloud Run!\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:142,columnNumber:1},this),(0,n.jsxDEV)(e.h2,{id:\"test-it-out\",children:[(0,n.jsxDEV)(e.a,{href:\"#test-it-out\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Test it out\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:144,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"Here's the fun part - try it out and visualize and analyse live twitter data!\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:146,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"You can try out my hosted cloud run with one of the 4 endpoints listed above: \",(0,n.jsxDEV)(e.a,{href:\"https://twitter-r-cvdvxo3vga-uc.a.run.app/\",children:\"https://twitter-r-cvdvxo3vga-uc.a.run.app/\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:148,columnNumber:79},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:148,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:\"Some fun examples!\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:150,columnNumber:1},this),(0,n.jsxDEV)(e.h3,{id:\"frequency-of-obama-tweets\",children:[(0,n.jsxDEV)(e.a,{href:\"#frequency-of-obama-tweets\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Frequency of Obama tweets\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:152,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"The most followed person on Twitter with 112 million followers does not actually tweet too frequently \\u{1F914}:\",(0,n.jsxDEV)(e.br,{},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:154,columnNumber:106},this),(0,n.jsxDEV)(e.a,{href:\"https://twitter-r-cvdvxo3vga-uc.a.run.app/frequency?n=500&users=BarackObama\",children:\"https://twitter-r-cvdvxo3vga-uc.a.run.app/frequency?n=500&users=BarackObama\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:155,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:154,columnNumber:1},this),(0,n.jsxDEV)(e.div,{children:(0,n.jsxDEV)(m,{alt:\"\",src:\"/static/img/serverless/freq_obama_tweets.PNG\",width:\"480\",height:\"480\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:157,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:157,columnNumber:1},this),(0,n.jsxDEV)(e.h3,{id:\"sentiment-analysis-comparison-between-bbcworld-and-realdonaldtrump\",children:[(0,n.jsxDEV)(e.a,{href:\"#sentiment-analysis-comparison-between-bbcworld-and-realdonaldtrump\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Sentiment analysis comparison between BBCworld and realDonaldTrump\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:159,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"Sad!\",(0,n.jsxDEV)(e.sup,{children:(0,n.jsxDEV)(e.a,{href:\"#user-content-fn-5\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-5\",children:\"5\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:161,columnNumber:5},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:161,columnNumber:5},this),(0,n.jsxDEV)(e.br,{},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:161,columnNumber:112},this),(0,n.jsxDEV)(e.a,{href:\"https://twitter-r-cvdvxo3vga-uc.a.run.app/sentiment?n=1000&users=BBCWorld,realDonaldTrump\",children:\"https://twitter-r-cvdvxo3vga-uc.a.run.app/sentiment?n=1000&users=BBCWorld,realDonaldTrump\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:162,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:161,columnNumber:1},this),(0,n.jsxDEV)(e.div,{children:(0,n.jsxDEV)(m,{alt:\"\",src:\"/static/img/serverless/sentiment1.PNG\",width:\"480\",height:\"480\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:164,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:164,columnNumber:1},this),(0,n.jsxDEV)(e.h3,{id:\"what-do-politicians-and-entertainers-have-in-common\",children:[(0,n.jsxDEV)(e.a,{href:\"#what-do-politicians-and-entertainers-have-in-common\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"What do politicians and entertainers have in common?\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:166,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"They are overwhelmingly positive (here we use our plotly html endpoint)\",(0,n.jsxDEV)(e.br,{},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:168,columnNumber:72},this),(0,n.jsxDEV)(e.a,{href:\"https://twitter-r-cvdvxo3vga-uc.a.run.app/html/sentiment?n=500&users=narendramodi,TheEllenShow\",children:\"https://twitter-r-cvdvxo3vga-uc.a.run.app/html/sentiment?n=500&users=narendramodi,TheEllenShow\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:169,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:168,columnNumber:1},this),(0,n.jsxDEV)(e.div,{children:(0,n.jsxDEV)(m,{alt:\"\",src:\"/static/img/serverless/sentiment2.PNG\",width:\"1863\",height:\"889\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:171,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:171,columnNumber:1},this),(0,n.jsxDEV)(e.h2,{id:\"conclusion\",children:[(0,n.jsxDEV)(e.a,{href:\"#conclusion\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Conclusion\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:173,columnNumber:1},this),(0,n.jsxDEV)(e.p,{children:[\"That's it for this serverless + R tutorial. Hope you managed to learn something useful or at the very least find the twitter analysis interesting \\u{1F603}. The nice part about having this application running is that you can analyze real-time twitter frequency or sentiment plots with whatever account you choose (even your own), so feel free to try it out.\",(0,n.jsxDEV)(e.sup,{children:(0,n.jsxDEV)(e.a,{href:\"#user-content-fn-6\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-6\",children:\"6\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:175,columnNumber:351},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:175,columnNumber:351},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:175,columnNumber:1},this),(0,n.jsxDEV)(e.section,{className:\"footnotes\",\"data-footnotes\":!0,children:[(0,n.jsxDEV)(e.h2,{id:\"footnote-label\",className:\"sr-only\",children:[(0,n.jsxDEV)(e.a,{href:\"#footnote-label\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),\"Footnotes\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this),(0,n.jsxDEV)(e.ol,{children:[(0,n.jsxDEV)(e.li,{id:\"user-content-fn-1\",children:(0,n.jsxDEV)(e.p,{children:[\"There are some very nice benefits of using a serverless stack as well such as per second billing, automatically scalable containers which makes it a perfect fit to deploy a hobby project. \",(0,n.jsxDEV)(e.a,{href:\"#user-content-fnref-1\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:16,columnNumber:578},this),(0,n.jsxDEV)(e.li,{id:\"user-content-fn-2\",children:(0,n.jsxDEV)(e.p,{children:[\"If you are in R, you can call \",(0,n.jsxDEV)(e.code,{children:\"Sys.setenv()\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:44,columnNumber:131},this),\" or just export it using the CLI \",(0,n.jsxDEV)(e.a,{href:\"#user-content-fnref-2\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:44,columnNumber:99},this),(0,n.jsxDEV)(e.li,{id:\"user-content-fn-3\",children:(0,n.jsxDEV)(e.p,{children:[(0,n.jsxDEV)(e.a,{href:\"https://www.tidytextmining.com/sentiment.html\",children:\"https://www.tidytextmining.com/sentiment.html\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:52,columnNumber:116},this),\" \",(0,n.jsxDEV)(e.a,{href:\"#user-content-fnref-3\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:52,columnNumber:114},this),(0,n.jsxDEV)(e.li,{id:\"user-content-fn-4\",children:(0,n.jsxDEV)(e.p,{children:[\"I took about 15 minutes to build the image. That's one of the downsides of R - it's really convenient for analyzing data but not really friendly for production. \",(0,n.jsxDEV)(e.a,{href:\"#user-content-fnref-4\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:117,columnNumber:321},this),(0,n.jsxDEV)(e.li,{id:\"user-content-fn-5\",children:(0,n.jsxDEV)(e.p,{children:[\"There are some issues scraping data from realDonaldTrump (\",(0,n.jsxDEV)(e.a,{href:\"https://github.com/ropensci/rtweet/issues/382\",children:\"https://github.com/ropensci/rtweet/issues/382\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:161,columnNumber:65},this),\") \",(0,n.jsxDEV)(e.a,{href:\"#user-content-fnref-5\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:161,columnNumber:5},this),(0,n.jsxDEV)(e.li,{id:\"user-content-fn-6\",children:(0,n.jsxDEV)(e.p,{children:[\"I will keep it up and running as long as I can as long as the usage does not suddenly spike up and exceed the free tier limit \",(0,n.jsxDEV)(e.a,{href:\"#user-content-fnref-6\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:175,columnNumber:351},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\",lineNumber:1,columnNumber:1},this)}function Nn(i={}){let{wrapper:e}=i.components||{};return e?(0,n.jsxDEV)(e,Object.assign({},i,{children:(0,n.jsxDEV)(Ee,i,void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this)}),void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx\"},this):Ee(i)}var yn=Nn;function xn(i,e,m){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+i+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-7dce8cda-e44a-4fc6-bda8-688234c5d6c5.mdx`\":\"\"))}return _n(gn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "blog/2020-01-22-serverless-machine-learning-with-r-on-cloud-run.mdx",
  "_raw": {
    "sourceFilePath": "blog/2020-01-22-serverless-machine-learning-with-r-on-cloud-run.mdx",
    "sourceFileName": "2020-01-22-serverless-machine-learning-with-r-on-cloud-run.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/2020-01-22-serverless-machine-learning-with-r-on-cloud-run"
  },
  "type": "Blog",
  "readingTime": {
    "text": "10 min read",
    "minutes": 9.31,
    "time": 558600,
    "words": 1862
  },
  "slug": "serverless-machine-learning-with-r-on-cloud-run",
  "path": "blog/serverless-machine-learning-with-r-on-cloud-run",
  "filePath": "blog/2020-01-22-serverless-machine-learning-with-r-on-cloud-run.mdx",
  "toc": [
    {
      "value": "Will My Project Run on the Cloud Run?",
      "url": "#will-my-project-run-on-the-cloud-run",
      "depth": 2
    },
    {
      "value": "Twitter Project üê¶",
      "url": "#twitter-project-",
      "depth": 2
    },
    {
      "value": "Tweet.R",
      "url": "#tweetr",
      "depth": 3
    },
    {
      "value": "App.R",
      "url": "#appr",
      "depth": 3
    },
    {
      "value": "Server.R",
      "url": "#serverr",
      "depth": 3
    },
    {
      "value": "Docker",
      "url": "#docker",
      "depth": 2
    },
    {
      "value": "Cloud Run",
      "url": "#cloud-run",
      "depth": 2
    },
    {
      "value": "Test it out",
      "url": "#test-it-out",
      "depth": 2
    },
    {
      "value": "Frequency of Obama tweets",
      "url": "#frequency-of-obama-tweets",
      "depth": 3
    },
    {
      "value": "Sentiment analysis comparison between BBCworld and realDonaldTrump",
      "url": "#sentiment-analysis-comparison-between-bbcworld-and-realdonaldtrump",
      "depth": 3
    },
    {
      "value": "What do politicians and entertainers have in common?",
      "url": "#what-do-politicians-and-entertainers-have-in-common",
      "depth": 3
    },
    {
      "value": "Conclusion",
      "url": "#conclusion",
      "depth": 2
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Serverless Machine Learning with R on Cloud Run",
    "datePublished": "2020-01-22T00:00:00.000Z",
    "dateModified": "2020-01-22T00:00:00.000Z",
    "description": "The serverless way - using Google Cloud Platform to deploy simple machine learning models via Cloud Run. A fun weekend project that analyses the twitter-verse",
    "image": "/static/img/twitter-card.png",
    "url": "https://www.davidnguyen.blog/serverless-machine-learning-with-r-on-cloud-run"
  }
}