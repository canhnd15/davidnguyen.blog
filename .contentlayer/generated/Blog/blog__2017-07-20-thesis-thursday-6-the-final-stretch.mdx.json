{
  "title": "Thesis Thursday 6 - The Final Stretch",
  "date": "2017-07-20T00:00:00.000Z",
  "tags": [
    "Thesis Thursday"
  ],
  "summary": "I find a positive correlation between the foreign-born and consumption shares within U.S. counties but this result does not hold across Asian countries. In fact, an increase in foreign-born share led to a decline in consumption of Asian-related consumer packaged goods",
  "authors": [
    "Timothy Lin"
  ],
  "body": {
    "raw": "\nSince my presentation about two weeks ago, I have been working on incorporating some of the suggestions and performing additional robustness tests. The updated version of the slides can be found [here](/static/mig_cons_slides/index.html).\n\nA recap of the key results - I find a positive correlation between the foreign-born and consumption shares within U.S. counties but this result does not hold across Asian countries. In fact, an increase in foreign-born share led to a decline in consumption of Asian-related consumer packaged goods.\n\n## Main changes\n\nThe main changes I made include using the 1980 NHGIS foreign-born data as an instrument instead of data from the 1970 IPUMS. The 1980 dataset contains many more counties giving me more power for the analysis. Unfortunately, the countries covered in the survey is not as comprehensive as that released in the 1970 IPUMS. I have included an additional table of results using various datasets to show that the results are consistent across the choice of countries / instrument.\n\nI have included additional tests on the robustness of the expenditure share measure. I had quite a few questions on the way I model food culture as a bag of words and the accuracy of such a measure. To alleviate those concerns, I include a table showing a sample of products at various weights. I also implemented a few different measures including using a majority allocation weighting method (instead of a weighted average), and considering only products with a strong signal (weight > 0.5).\n\nNew tests of heterogeneity have also been included. I tried interacting the share of foreign-born with a dissimilarity index (to capture how integrated the migrant community is within the county) and splitting the panel by age but the results do not change much across both tests.\n\nThe updated presentation features accurate 1970 U.S. maps and plots. Previously, I used existing R packages which make mapping U.S. counties straightforward, but a limitation of those packages is that they do not accurately reflect historical county boundaries.^[There were some ugly holes in the maps from the old presentation but this is finally fixed!] The new plots are based on GIS shapefiles available from NHGIS which means that they correspond exactly to the data I am using.^[Maybe I should write a separate blog post on GIS mapping in R some time.]\n\nComputationally, I also streamline the code to run in half the time by cutting out repetitive loops and other unnecessary operations. The wait was just getting too long to generate the main dataset to run my regressions.\n\n## To-do\n\nThe results look pretty robust to the many ways I cut the data but I still plan to run a few more checks. I might try to use the 2012 Nielsen Consumer Panel data instead of 2011 data for additional samples.^[I could also pool the various years together and control for year of survey but I doubt that it would affect my results and only add to time it takes to generate the dataset.] Additionally, I could also try to include multiple instruments (one for each county) and let the IV procedure choose the optimal weights.\n\nI also want to try aggregating the counties to a broader level e.g. Commuting zones, to account for the possibility that such spillover effects may be wider than the county level.\n\nIt would be nice to try and find out why the share of consumption related to Asian goods is inversely related to the foreign-born share. My current hypothesis is that migration also led to the expansion of the number of restaurants. Since these restaurants started by Asian immigrants tend to be of the cheaper range, they meet the desires of consumers sufficiently and there is little incentive to cook Asian food at home. I could possibly test for such an effect using Yelp data but at this stage, the additional analysis feels like I am meandering off to a new topic, and I have way too much material on hand to write-up, so that will probably be on the future paper (if ever) shelf.\n",
    "code": "var Component=(()=>{var ln=Object.create;var O=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var un=Object.getOwnPropertyNames;var fn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var q=(c,t)=>()=>(t||c((t={exports:{}}).exports,t),t.exports),hn=(c,t)=>{for(var p in t)O(c,p,{get:t[p],enumerable:!0})},xe=(c,t,p,v)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let g of un(t))!mn.call(c,g)&&g!==p&&O(c,g,{get:()=>t[g],enumerable:!(v=cn(t,g))||v.enumerable});return c};var bn=(c,t,p)=>(p=c!=null?ln(fn(c)):{},xe(t||!c||!c.__esModule?O(p,\"default\",{value:c,enumerable:!0}):p,c)),pn=c=>xe(O({},\"__esModule\",{value:!0}),c);var Ee=q((Nn,Ne)=>{Ne.exports=React});var ke=q(z=>{\"use strict\";(function(){\"use strict\";var c=Ee(),t=Symbol.for(\"react.element\"),p=Symbol.for(\"react.portal\"),v=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),X=Symbol.for(\"react.provider\"),K=Symbol.for(\"react.context\"),T=Symbol.for(\"react.forward_ref\"),j=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),D=Symbol.for(\"react.memo\"),F=Symbol.for(\"react.lazy\"),De=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Se=\"@@iterator\";function Ce(e){if(e===null||typeof e!=\"object\")return null;var n=J&&e[J]||e[Se];return typeof n==\"function\"?n:null}var N=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function m(e){{for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Ie(\"error\",e,r)}}function Ie(e,n,r){{var a=N.ReactDebugCurrentFrame,d=a.getStackAddendum();d!==\"\"&&(n+=\"%s\",r=r.concat([d]));var l=r.map(function(s){return String(s)});l.unshift(\"Warning: \"+n),Function.prototype.apply.call(console[e],console,l)}}var Pe=!1,Ue=!1,Oe=!1,je=!1,Ae=!1,Z;Z=Symbol.for(\"react.module.reference\");function Fe(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===v||e===H||Ae||e===g||e===j||e===A||je||e===De||Pe||Ue||Oe||typeof e==\"object\"&&e!==null&&(e.$$typeof===F||e.$$typeof===D||e.$$typeof===X||e.$$typeof===K||e.$$typeof===T||e.$$typeof===Z||e.getModuleId!==void 0))}function Me(e,n,r){var a=e.displayName;if(a)return a;var d=n.displayName||n.name||\"\";return d!==\"\"?r+\"(\"+d+\")\":r}function Q(e){return e.displayName||\"Context\"}function _(e){if(e==null)return null;if(typeof e.tag==\"number\"&&m(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case v:return\"Fragment\";case p:return\"Portal\";case H:return\"Profiler\";case g:return\"StrictMode\";case j:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case K:var n=e;return Q(n)+\".Consumer\";case X:var r=e;return Q(r._context)+\".Provider\";case T:return Me(e,e.render,\"ForwardRef\");case D:var a=e.displayName||null;return a!==null?a:_(e.type)||\"Memo\";case F:{var d=e,l=d._payload,s=d._init;try{return _(s(l))}catch{return null}}}return null}var x=Object.assign,w=0,ee,ne,re,te,ae,oe,ie;function se(){}se.__reactDisabledLog=!0;function Ye(){{if(w===0){ee=console.log,ne=console.info,re=console.warn,te=console.error,ae=console.group,oe=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:se,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}w++}}function $e(){{if(w--,w===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},e,{value:ee}),info:x({},e,{value:ne}),warn:x({},e,{value:re}),error:x({},e,{value:te}),group:x({},e,{value:ae}),groupCollapsed:x({},e,{value:oe}),groupEnd:x({},e,{value:ie})})}w<0&&m(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var M=N.ReactCurrentDispatcher,Y;function S(e,n,r){{if(Y===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\\n( *(at )?)/);Y=a&&a[1]||\"\"}return`\n`+Y+e}}var $=!1,C;{var We=typeof WeakMap==\"function\"?WeakMap:Map;C=new We}function de(e,n){if(!e||$)return\"\";{var r=C.get(e);if(r!==void 0)return r}var a;$=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var l;l=M.current,M.current=null,Ye();try{if(n){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(y){a=y}Reflect.construct(e,[],s)}else{try{s.call()}catch(y){a=y}e.call(s.prototype)}}else{try{throw Error()}catch(y){a=y}e()}}catch(y){if(y&&a&&typeof y.stack==\"string\"){for(var i=y.stack.split(`\n`),h=a.stack.split(`\n`),u=i.length-1,f=h.length-1;u>=1&&f>=0&&i[u]!==h[f];)f--;for(;u>=1&&f>=0;u--,f--)if(i[u]!==h[f]){if(u!==1||f!==1)do if(u--,f--,f<0||i[u]!==h[f]){var b=`\n`+i[u].replace(\" at new \",\" at \");return e.displayName&&b.includes(\"<anonymous>\")&&(b=b.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&C.set(e,b),b}while(u>=1&&f>=0);break}}}finally{$=!1,M.current=l,$e(),Error.prepareStackTrace=d}var k=e?e.displayName||e.name:\"\",ve=k?S(k):\"\";return typeof e==\"function\"&&C.set(e,ve),ve}function Ve(e,n,r){return de(e,!1)}function Le(e){var n=e.prototype;return!!(n&&n.isReactComponent)}function I(e,n,r){if(e==null)return\"\";if(typeof e==\"function\")return de(e,Le(e));if(typeof e==\"string\")return S(e);switch(e){case j:return S(\"Suspense\");case A:return S(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case T:return Ve(e.render);case D:return I(e.type,n,r);case F:{var a=e,d=a._payload,l=a._init;try{return I(l(d),n,r)}catch{}}}return\"\"}var P=Object.prototype.hasOwnProperty,le={},ce=N.ReactDebugCurrentFrame;function U(e){if(e){var n=e._owner,r=I(e.type,e._source,n?n.type:null);ce.setExtraStackFrame(r)}else ce.setExtraStackFrame(null)}function Be(e,n,r,a,d){{var l=Function.call.bind(P);for(var s in e)if(l(e,s)){var i=void 0;try{if(typeof e[s]!=\"function\"){var h=Error((a||\"React class\")+\": \"+r+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw h.name=\"Invariant Violation\",h}i=e[s](n,s,a,r,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){i=u}i&&!(i instanceof Error)&&(U(d),m(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",a||\"React class\",r,s,typeof i),U(null)),i instanceof Error&&!(i.message in le)&&(le[i.message]=!0,U(d),m(\"Failed %s type: %s\",r,i.message),U(null))}}}var Ge=Array.isArray;function W(e){return Ge(e)}function qe(e){{var n=typeof Symbol==\"function\"&&Symbol.toStringTag,r=n&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return r}}function ze(e){try{return ue(e),!1}catch{return!0}}function ue(e){return\"\"+e}function fe(e){if(ze(e))return m(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",qe(e)),ue(e)}var R=N.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},me,he,V;V={};function Xe(e){if(P.call(e,\"ref\")){var n=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(n&&n.isReactWarning)return!1}return e.ref!==void 0}function Ke(e){if(P.call(e,\"key\")){var n=Object.getOwnPropertyDescriptor(e,\"key\").get;if(n&&n.isReactWarning)return!1}return e.key!==void 0}function Je(e,n){if(typeof e.ref==\"string\"&&R.current&&n&&R.current.stateNode!==n){var r=_(R.current.type);V[r]||(m('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',_(R.current.type),e.ref),V[r]=!0)}}function Ze(e,n){{var r=function(){me||(me=!0,m(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};r.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:r,configurable:!0})}}function Qe(e,n){{var r=function(){he||(he=!0,m(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};r.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:r,configurable:!0})}}var en=function(e,n,r,a,d,l,s){var i={$$typeof:t,type:e,key:n,ref:r,props:s,_owner:l};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nn(e,n,r,a,d){{var l,s={},i=null,h=null;r!==void 0&&(fe(r),i=\"\"+r),Ke(n)&&(fe(n.key),i=\"\"+n.key),Xe(n)&&(h=n.ref,Je(n,d));for(l in n)P.call(n,l)&&!He.hasOwnProperty(l)&&(s[l]=n[l]);if(e&&e.defaultProps){var u=e.defaultProps;for(l in u)s[l]===void 0&&(s[l]=u[l])}if(i||h){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Ze(s,f),h&&Qe(s,f)}return en(e,i,h,d,a,R.current,s)}}var L=N.ReactCurrentOwner,be=N.ReactDebugCurrentFrame;function E(e){if(e){var n=e._owner,r=I(e.type,e._source,n?n.type:null);be.setExtraStackFrame(r)}else be.setExtraStackFrame(null)}var B;B=!1;function G(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===t}function pe(){{if(L.current){var e=_(L.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var n=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),r=e.lineNumber;return`\n\nCheck your code at `+n+\":\"+r+\".\"}return\"\"}}var _e={};function tn(e){{var n=pe();if(!n){var r=typeof e==\"string\"?e:e.displayName||e.name;r&&(n=`\n\nCheck the top-level render call using <`+r+\">.\")}return n}}function ye(e,n){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var r=tn(n);if(_e[r])return;_e[r]=!0;var a=\"\";e&&e._owner&&e._owner!==L.current&&(a=\" It was passed a child from \"+_(e._owner.type)+\".\"),E(e),m('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,a),E(null)}}function ge(e,n){{if(typeof e!=\"object\")return;if(W(e))for(var r=0;r<e.length;r++){var a=e[r];G(a)&&ye(a,n)}else if(G(e))e._store&&(e._store.validated=!0);else if(e){var d=Ce(e);if(typeof d==\"function\"&&d!==e.entries)for(var l=d.call(e),s;!(s=l.next()).done;)G(s.value)&&ye(s.value,n)}}}function an(e){{var n=e.type;if(n==null||typeof n==\"string\")return;var r;if(typeof n==\"function\")r=n.propTypes;else if(typeof n==\"object\"&&(n.$$typeof===T||n.$$typeof===D))r=n.propTypes;else return;if(r){var a=_(n);Be(r,e.props,\"prop\",a,e)}else if(n.PropTypes!==void 0&&!B){B=!0;var d=_(n);m(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",d||\"Unknown\")}typeof n.getDefaultProps==\"function\"&&!n.getDefaultProps.isReactClassApproved&&m(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(e){{for(var n=Object.keys(e.props),r=0;r<n.length;r++){var a=n[r];if(a!==\"children\"&&a!==\"key\"){E(e),m(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",a),E(null);break}}e.ref!==null&&(E(e),m(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),E(null))}}function sn(e,n,r,a,d,l){{var s=Fe(e);if(!s){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var h=rn(d);h?i+=h:i+=pe();var u;e===null?u=\"null\":W(e)?u=\"array\":e!==void 0&&e.$$typeof===t?(u=\"<\"+(_(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof e,m(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,i)}var f=nn(e,n,r,d,l);if(f==null)return f;if(s){var b=n.children;if(b!==void 0)if(a)if(W(b)){for(var k=0;k<b.length;k++)ge(b[k],e);Object.freeze&&Object.freeze(b)}else m(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(b,e)}return e===v?on(f):an(f),f}}var dn=sn;z.Fragment=v,z.jsxDEV=dn})()});var Re=q((kn,we)=>{\"use strict\";we.exports=ke()});var vn={};hn(vn,{default:()=>gn,frontmatter:()=>_n});var o=bn(Re()),_n={title:\"Thesis Thursday 6 - The Final Stretch\",authors:[\"Timothy Lin\"],date:\"2017-07-20\",tags:[\"Thesis Thursday\"],summary:\"I find a positive correlation between the foreign-born and consumption shares within U.S. counties but this result does not hold across Asian countries. In fact, an increase in foreign-born share led to a decline in consumption of Asian-related consumer packaged goods\"};function Te(c){let t=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",sup:\"sup\",section:\"section\",ol:\"ol\",li:\"li\"},c.components);return(0,o.jsxDEV)(o.Fragment,{children:[(0,o.jsxDEV)(t.p,{children:[\"Since my presentation about two weeks ago, I have been working on incorporating some of the suggestions and performing additional robustness tests. The updated version of the slides can be found \",(0,o.jsxDEV)(t.a,{href:\"/static/mig_cons_slides/index.html\",children:\"here\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:9,columnNumber:196},this),\".\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:9,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:\"A recap of the key results - I find a positive correlation between the foreign-born and consumption shares within U.S. counties but this result does not hold across Asian countries. In fact, an increase in foreign-born share led to a decline in consumption of Asian-related consumer packaged goods.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:11,columnNumber:1},this),(0,o.jsxDEV)(t.h2,{id:\"main-changes\",children:[(0,o.jsxDEV)(t.a,{href:\"#main-changes\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this),\"Main changes\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:13,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:\"The main changes I made include using the 1980 NHGIS foreign-born data as an instrument instead of data from the 1970 IPUMS. The 1980 dataset contains many more counties giving me more power for the analysis. Unfortunately, the countries covered in the survey is not as comprehensive as that released in the 1970 IPUMS. I have included an additional table of results using various datasets to show that the results are consistent across the choice of countries / instrument.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:15,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:\"I have included additional tests on the robustness of the expenditure share measure. I had quite a few questions on the way I model food culture as a bag of words and the accuracy of such a measure. To alleviate those concerns, I include a table showing a sample of products at various weights. I also implemented a few different measures including using a majority allocation weighting method (instead of a weighted average), and considering only products with a strong signal (weight > 0.5).\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:17,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:\"New tests of heterogeneity have also been included. I tried interacting the share of foreign-born with a dissimilarity index (to capture how integrated the migrant community is within the county) and splitting the panel by age but the results do not change much across both tests.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:19,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:[\"The updated presentation features accurate 1970 U.S. maps and plots. Previously, I used existing R packages which make mapping U.S. counties straightforward, but a limitation of those packages is that they do not accurately reflect historical county boundaries.\",(0,o.jsxDEV)(t.sup,{children:(0,o.jsxDEV)(t.a,{href:\"#user-content-fn-1\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-1\",children:\"1\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:21,columnNumber:262},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:21,columnNumber:262},this),\" The new plots are based on GIS shapefiles available from NHGIS which means that they correspond exactly to the data I am using.\",(0,o.jsxDEV)(t.sup,{children:(0,o.jsxDEV)(t.a,{href:\"#user-content-fn-2\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-2\",children:\"2\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:21,columnNumber:484},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:21,columnNumber:484},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:21,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:\"Computationally, I also streamline the code to run in half the time by cutting out repetitive loops and other unnecessary operations. The wait was just getting too long to generate the main dataset to run my regressions.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:23,columnNumber:1},this),(0,o.jsxDEV)(t.h2,{id:\"to-do\",children:[(0,o.jsxDEV)(t.a,{href:\"#to-do\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this),\"To-do\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:25,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:[\"The results look pretty robust to the many ways I cut the data but I still plan to run a few more checks. I might try to use the 2012 Nielsen Consumer Panel data instead of 2011 data for additional samples.\",(0,o.jsxDEV)(t.sup,{children:(0,o.jsxDEV)(t.a,{href:\"#user-content-fn-3\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-3\",children:\"3\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:27,columnNumber:207},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:27,columnNumber:207},this),\" Additionally, I could also try to include multiple instruments (one for each county) and let the IV procedure choose the optimal weights.\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:27,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:\"I also want to try aggregating the counties to a broader level e.g. Commuting zones, to account for the possibility that such spillover effects may be wider than the county level.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:29,columnNumber:1},this),(0,o.jsxDEV)(t.p,{children:\"It would be nice to try and find out why the share of consumption related to Asian goods is inversely related to the foreign-born share. My current hypothesis is that migration also led to the expansion of the number of restaurants. Since these restaurants started by Asian immigrants tend to be of the cheaper range, they meet the desires of consumers sufficiently and there is little incentive to cook Asian food at home. I could possibly test for such an effect using Yelp data but at this stage, the additional analysis feels like I am meandering off to a new topic, and I have way too much material on hand to write-up, so that will probably be on the future paper (if ever) shelf.\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:31,columnNumber:1},this),(0,o.jsxDEV)(t.section,{className:\"footnotes\",\"data-footnotes\":!0,children:[(0,o.jsxDEV)(t.h2,{id:\"footnote-label\",className:\"sr-only\",children:[(0,o.jsxDEV)(t.a,{href:\"#footnote-label\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this),\"Footnotes\"]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this),(0,o.jsxDEV)(t.ol,{children:[(0,o.jsxDEV)(t.li,{id:\"user-content-fn-1\",children:(0,o.jsxDEV)(t.p,{children:[\"There were some ugly holes in the maps from the old presentation but this is finally fixed! \",(0,o.jsxDEV)(t.a,{href:\"#user-content-fnref-1\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:21,columnNumber:262},this),(0,o.jsxDEV)(t.li,{id:\"user-content-fn-2\",children:(0,o.jsxDEV)(t.p,{children:[\"Maybe I should write a separate blog post on GIS mapping in R some time. \",(0,o.jsxDEV)(t.a,{href:\"#user-content-fnref-2\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:21,columnNumber:484},this),(0,o.jsxDEV)(t.li,{id:\"user-content-fn-3\",children:(0,o.jsxDEV)(t.p,{children:[\"I could also pool the various years together and control for year of survey but I doubt that it would affect my results and only add to time it takes to generate the dataset. \",(0,o.jsxDEV)(t.a,{href:\"#user-content-fnref-3\",\"aria-label\":\"Back to content\",className:\"data-footnote-backref\",\"data-footnote-backref\":!0,children:\"\\u21A9\"},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)},void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:27,columnNumber:207},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)]},void 0,!0,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\",lineNumber:1,columnNumber:1},this)}function yn(c={}){let{wrapper:t}=c.components||{};return t?(0,o.jsxDEV)(t,Object.assign({},c,{children:(0,o.jsxDEV)(Te,c,void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this)}),void 0,!1,{fileName:\"/Users/canhnd/Desktop/code/2024/myblog/_mdx_bundler_entry_point-ed02c5e6-3edf-4593-9d11-3f4aef2e354c.mdx\"},this):Te(c)}var gn=yn;return pn(vn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "blog/2017-07-20-thesis-thursday-6-the-final-stretch.mdx",
  "_raw": {
    "sourceFilePath": "blog/2017-07-20-thesis-thursday-6-the-final-stretch.mdx",
    "sourceFileName": "2017-07-20-thesis-thursday-6-the-final-stretch.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/2017-07-20-thesis-thursday-6-the-final-stretch"
  },
  "type": "Blog",
  "readingTime": {
    "text": "4 min read",
    "minutes": 3.365,
    "time": 201900,
    "words": 673
  },
  "slug": "thesis-thursday-6-the-final-stretch",
  "path": "blog/thesis-thursday-6-the-final-stretch",
  "filePath": "blog/2017-07-20-thesis-thursday-6-the-final-stretch.mdx",
  "toc": [
    {
      "value": "Main changes",
      "url": "#main-changes",
      "depth": 2
    },
    {
      "value": "To-do",
      "url": "#to-do",
      "depth": 2
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Thesis Thursday 6 - The Final Stretch",
    "datePublished": "2017-07-20T00:00:00.000Z",
    "dateModified": "2017-07-20T00:00:00.000Z",
    "description": "I find a positive correlation between the foreign-born and consumption shares within U.S. counties but this result does not hold across Asian countries. In fact, an increase in foreign-born share led to a decline in consumption of Asian-related consumer packaged goods",
    "image": "/static/img/twitter-card.png",
    "url": "https://www.davidnguyen.blog/thesis-thursday-6-the-final-stretch"
  }
}